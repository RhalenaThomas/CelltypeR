---
title: "R Notebook correlation analysis"
output: html_notebook
---



```{r}

# read in the reference matrix
expected_val=read.csv(file="/Users/rhalenathomas/Documents/Data/FlowCytometry/PhenoID/ReferenceMatrix_meanof6_20210517_B.csv") 
head(expected_val)
dim(expected_val) # cell types by rows, columns by 
#Format expected values to fit the old one
expected_val=t(expected_val) #transpose the dataframe for fitting the previous way of making correlation
# colnames are now row names: columns are 
colnames(expected_val) <- expected_val[1,]#give column names the right names

expected_values=apply(as.data.frame(expected_val[-1,]),2, function(x){as.numeric(as.character(x))}) #change character to numeric values in a tortured way
rownames(expected_values)=rownames(expected_val[-1,]) #right rownames
expected_values=expected_values[,colnames(expected_values)!="Pericyte" & colnames(expected_values) != "Microglial"] #get rid of microglia and pericytes


```

Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Cmd+Option+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Cmd+Shift+K* to preview the HTML file). 

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.

